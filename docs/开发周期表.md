# 面向智能家居的轻量化异常检测系统 - 开发周期表

## 一、项目结构规划

```
Lite-SH-Anomaly/
├── data/                    # 数据层
│   ├── raw/                 # 原始数据集
│   ├── processed/           # 预处理后数据
│   └── scripts/             # 数据处理脚本
├── algorithm/               # 算法层
│   ├── models/              # 模型文件
│   ├── training/            # 训练脚本
│   └── evaluation/          # 评估脚本
├── backend/                 # Django后端
│   ├── api/                 # REST API
│   ├── detection/           # 检测服务
│   └── config/              # 配置文件
├── frontend/                # Vue前端
│   ├── src/
│   │   ├── views/           # 页面组件
│   │   ├── components/      # 通用组件
│   │   └── api/             # 接口调用
│   └── public/
└── esp32/                   # ESP32模拟代码（可选）
```

## 二、分阶段开发计划

| 阶段 | 周次 | 核心任务 | 具体工作 | 交付物 |
|------|------|----------|----------|--------|
| **数据层** | 第1周 | 环境搭建 + 数据准备 | 1. 搭建Python/Django/Vue环境<br>2. 下载IoT-23数据集<br>3. 编写数据清洗脚本<br>4. 特征提取（6-8个核心特征） | 标准化CSV数据集（≥1万条） |
| **算法层** | 第2周 | 模型训练 | 1. 实现轻量化孤立森林（树=50，深度≤8）<br>2. 实现简化自编码器（4→2→4结构）<br>3. 训练对比算法（KNN、SVM） | 初始模型文件 |
| **算法层** | 第3周 | 模型优化 + 部署 | 1. 超参数调优（F1≥0.85）<br>2. INT8量化压缩（≤5MB）<br>3. 性能测试（延迟≤100ms，内存≤30MB） | 轻量化模型 + 性能报告 |
| **后端** | 第4周 | API开发 | 1. Django项目初始化<br>2. 数据接入接口（CSV/MQTT）<br>3. 模型调用接口<br>4. 检测日志存储 | 可用API接口 |
| **前端** | 第5周 | 页面开发 | 1. Vue项目初始化<br>2. 首页（设备概览）<br>3. 实时检测页<br>4. 历史记录页 | 前端基础页面 |
| **集成** | 第6周 | 联调测试 | 1. 前后端联调<br>2. WebSocket实时推送<br>3. 性能指标可视化<br>4. 整体功能测试 | 完整可演示系统 |

## 三、技术栈确认

| 层级 | 技术选型 |
|------|----------|
| 数据处理 | Python 3.8+、Pandas、Numpy |
| 算法 | Scikit-learn（孤立森林）、PyTorch（自编码器） |
| 后端 | Django 4.0+、Django REST Framework、MySQL/SQLite |
| 前端 | Vue 3.0+、Element Plus、ECharts |
| 部署 | Joblib（模型序列化）、psutil（性能监控） |

## 四、核心指标要求

| 指标类型 | 具体要求 |
|----------|----------|
| 检测性能 | F1≥0.85、误报率≤5%、漏报率≤3% |
| 轻量化指标 | 推理延迟≤100ms、内存≤30MB、模型体积≤5MB |
| 系统响应 | API响应≤500ms |

## 五、开发优先级

1. **第一优先级**：数据准备 + 孤立森林算法（核心）
2. **第二优先级**：Django后端 + 检测API
3. **第三优先级**：Vue前端可视化
4. **可选加分项**：ESP32真实设备数据采集

## 六、里程碑节点

| 里程碑 | 完成时间 | 验收标准 |
|--------|----------|----------|
| M1 数据就绪 | 第1周末 | 标准化CSV数据集≥1万条 |
| M2 算法可用 | 第3周末 | 模型F1≥0.85，体积≤5MB |
| M3 后端可用 | 第4周末 | API接口可正常调用 |
| M4 系统完成 | 第6周末 | 完整系统可演示 |
